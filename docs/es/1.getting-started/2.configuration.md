---
title: Configuración
description: Referencia de configuración completa cubriendo JWT, notificaciones y opciones de personalización.
navigation.icon: uil:cog
---

Configura el starter en tu `application.properties` o `application.yml`.

## Configuración Esencial

Estas propiedades son requeridas para que el starter funcione correctamente.

```ini
# Configuración JWT
ctlabs.auth.jwt.secret-key=TU_CLAVE_SECRETA_SEGURA... # Debe ser una cadena Base64 larga y segura
ctlabs.auth.jwt.expiration=86400000                  # Expiración del token en milisegundos (por defecto: 24 horas)

# URL del Frontend (usada en correos de verificación)
ctlabs.auth.frontend-url=http://localhost:3000
```

## Migración de Base de Datos

El starter gestiona su propio esquema usando Flyway.

```ini
# Habilitar migración automática (por defecto: true)
ctlabs.auth.db.migration-enabled=true
```

::callout{type="info"}
El starter usa una tabla de historial separada `ctlabs_auth_schema_history` para evitar conflictos con las migraciones de tu aplicación.
::

## Aprovisionamiento de Administrador

Crea automáticamente un usuario administrador al inicio.

```ini
ctlabs.auth.admin.enabled=true
ctlabs.auth.admin.email=admin@company.com
ctlabs.auth.admin.password=SecurePass123!
ctlabs.auth.admin.first-name=Super
ctlabs.auth.admin.last-name=Admin
```

## Notificaciones

Habilita canales específicos para verificación de usuarios y restablecimiento de contraseñas.

### Correo Electrónico (SMTP)

Requiere configuración estándar de Spring Boot Mail.

```ini
ctlabs.auth.notifications.mail.enabled=true

# Propiedades de Spring Boot Mail
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=tu@gmail.com
spring.mail.password=tu_contraseña
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
```

### SMS y WhatsApp (Twilio)

::code-group
  ```ini [SMS]
  # Credenciales de Twilio
  ctlabs.auth.twilio.account-sid=AC...
  ctlabs.auth.twilio.auth-token=...

  # SMS
  ctlabs.auth.notifications.sms.enabled=true
  ctlabs.auth.notifications.sms.phone-number=+1234567890
  ```

  ```ini [WhatsApp]
  # Credenciales de Twilio
  ctlabs.auth.twilio.account-sid=AC...
  ctlabs.auth.twilio.auth-token=...

  # WhatsApp
  ctlabs.auth.notifications.whatsapp.enabled=true
  ctlabs.auth.notifications.whatsapp.phone-number=whatsapp:+1234567890
  ctlabs.auth.twilio.whatsapp-content-sid=HX... # Requerido solo si usas Plantillas de WhatsApp
  ```
::

## Personalización

```ini
# Ruta base para endpoints de autenticación (por defecto: /api/auth)
ctlabs.auth.base-url=/v1/security

# Rol por defecto para nuevos usuarios (por defecto: ROLE_CUSTOMER)
ctlabs.auth.default-role=ROLE_USER
```